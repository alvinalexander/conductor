/*! For license information please see main.07c619fe.chunk.js.LICENSE.txt */
(this.webpackJsonpconductor=this.webpackJsonpconductor||[]).push([[0],{49:function(t,e){},50:function(t,e){},65:function(t,e,r){t.exports=r(81)},70:function(t,e,r){},76:function(t,e){},77:function(t,e){},78:function(t,e){},81:function(t,e,r){"use strict";r.r(e);var n=r(8),o=r(1),a=r.n(o),i=r(12),c=r.n(i),l=(r(70),r(31)),u=r(40),s=r(14),h=r(15),f=r(23),p=r(38),d=r(37),v=r(11),m=r(33),y=r.n(m);function g(t,e,r){var n=Math.round(127*(t-r)/(e-r));return n=Math.min(127,Math.max(0,n))}function w(t,e,r){try{return g(t[0].annotations.indexFinger[3][0],e,0)}catch(n){console.error(n)}}function b(t,e,r){try{return 127-g(t[0].annotations.indexFinger[3][1],r,0)}catch(n){console.error(n)}}function x(t,e,r){try{var n=t[0].annotations.indexFinger[3],o=t[0].annotations.palmBase[0];return g(Math.sqrt(Math.pow(o[0]-n[0],2)+Math.pow(o[1]-n[1],2)),100,500)}catch(a){console.error(a)}}function E(t,e,r){try{var n=t[0].annotations.thumb[3],o=t[0].annotations.indexFinger[3],a=t[0].annotations.middleFinger[3],i=t[0].annotations.ringFinger[3],c=t[0].annotations.pinky[3],l=t[0].annotations.palmBase[0],u=(Math.sqrt(Math.pow(l[0]-n[0],2)+Math.pow(l[1]-n[1],2))+Math.sqrt(Math.pow(l[0]-o[0],2)+Math.pow(l[1]-o[1],2))+Math.sqrt(Math.pow(l[0]-a[0],2)+Math.pow(l[1]-a[1],2))+Math.sqrt(Math.pow(l[0]-i[0],2)+Math.pow(l[1]-i[1],2))+Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)))/5,s=(n[0]+o[0]+a[0]+i[0]+c[0])/5,h=(n[1]+o[1]+a[1]+i[1]+c[1])/5,f=Math.pow((n[0]-s)/u,2)+Math.pow((n[1]-h)/u,2)+Math.pow((o[0]-s)/u,2)+Math.pow((o[1]-h)/u,2)+Math.pow((a[0]-s)/u,2)+Math.pow((a[1]-h)/u,2)+Math.pow((i[0]-s)/u,2)+Math.pow((i[1]-h)/u,2)+Math.pow((c[0]-s)/u,2)+Math.pow((c[1]-h)/u,2);return g(f=Math.sqrt(f/5),.55,.1)}catch(p){console.error(p)}}function k(t,e,r){try{var n=t[0].annotations.thumb[3],o=t[0].annotations.pinky[3],a=Math.abs(n[0]-o[0]),i=n[2]-o[2];return g(Math.atan(i/a),1.57,-.2)}catch(c){console.error(c)}}function L(t,e,r){try{var n=t[0].annotations.thumb[3],o=t[0].annotations.pinky[3],a=Math.abs(n[0]-o[0]),i=n[1]-o[1];return g(Math.atan(i/a),1.57,-.2)}catch(c){console.error(c)}}var j=r(58),O=r(48),M=r(51),C=r(0),_=r(52),P=r.n(_),G=r(111),S=r(113),N=r(114),T=Object(G.a)({root:{minWidth:275,maxWidth:"fit-content"},pos:{marginBottom:12}});function F(t){var e=t.children,r=T();return a.a.createElement(S.a,{className:r.root},a.a.createElement(N.a,null,e))}function I(){I=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var s={};function h(){}function f(){}function p(){}var d={};c(d,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,o)&&(d=m);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var l=u(t[o],t,a);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(h).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}O.a("https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@".concat(M.version,"/dist/tfjs-backend-wasm.wasm"));var R,B,A={thumb:[0,1,2,3,4],indexFinger:[0,5,6,7,8],middleFinger:[0,9,10,11,12],ringFinger:[0,13,14,15,16],pinky:[0,17,18,19,20]},D=function(t){Object(p.a)(r,t);var e=Object(d.a)(r);function r(t){var n;return Object(s.a)(this,r),(n=e.call(this,t)).state={backend:"webgl"},n.videoRef=a.a.createRef(),n.canvasRef=a.a.createRef(),n}return Object(h.a)(r,[{key:"drawPoint",value:function(t,e,r,n){t.beginPath(),t.arc(r,e,n,0,2*Math.PI),t.fill()}},{key:"drawKeypoints",value:function(t,e){for(var r=e,n=0;n<r.length;n++){var o=r[n][0],a=r[n][1];this.drawPoint(t,a-2,o-2,3)}for(var i=Object.keys(A),c=0;c<i.length;c++){var l=i[c],u=A[l].map((function(t){return e[t]}));this.drawPath(t,u,!1)}}},{key:"drawPath",value:function(t,e,r){var n=new Path2D;n.moveTo(e[0][0],e[0][1]);for(var o=1;o<e.length;o++){var a=e[o];n.lineTo(a[0],a[1])}r&&n.closePath(),t.stroke(n)}},{key:"setupCamera",value:function(){var t=Object(n.a)(I().mark((function t(){var e,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){t.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return e=this.videoRef.current,t.next=5,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:640,height:500}});case 5:return r=t.sent,window.stream=r,e.srcObject=r,t.abrupt("return",new Promise((function(t){e.onloadedmetadata=function(){t(e)}})));case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"loadVideo",value:function(){var t=Object(n.a)(I().mark((function t(){var e;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setupCamera();case 2:return(e=t.sent).play(),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(n.a)(I().mark((function t(){var e,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.jc(this.state.backend);case 2:return t.next=4,j.a();case 4:return e=t.sent,t.next=7,this.setState({model:e});case 7:return t.prev=7,t.next=10,this.loadVideo();case 10:r=t.sent,this.props.onInitComplete(),t.next=18;break;case 14:throw t.prev=14,t.t0=t.catch(7),console.error(t.t0),t.t0;case 18:this.landmarksRealTime(r);case 19:case"end":return t.stop()}}),t,this,[[7,14]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=this.canvasRef.current;t.width=640,t.height=500;var e=t.getContext("2d");e.translate(t.width,0),e.scale(-1,1)}},{key:"landmarksRealTime",value:function(){var t=Object(n.a)(I().mark((function t(e){var r,o,a,i,c,l,u=this;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=y.a.outputs[0],console.log("midi_output in landmarks:  ",null===r||void 0===r?void 0:r.name),o=this.state.model,(a=new P.a).showPanel(0),document.getElementById("control-area").appendChild(a.dom),a.domElement.style.position="absolute",a.domElement.style.bottom="200px",a.domElement.style.left="8px",a.domElement.style.top="",R=e.videoWidth,B=e.videoHeight,(i=this.canvasRef.current).width=R,i.height=B,c=i.getContext("2d"),e.width=R,e.height=B,c.clearRect(0,0,R,B),c.strokeStyle="red",c.fillStyle="red",c.translate(i.width,0),c.scale(-1,1),(l=function(){var t=Object(n.a)(I().mark((function t(){var n,s,h,f,p,d,m,y,g;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.strokeStyle="red",c.fillStyle="red",n=u.props.gestures,a.begin(),c.drawImage(e,0,0,R,B,0,0,i.width,i.height),t.next=7,o.estimateHands(e,null,!1);case 7:if((s=t.sent).length>0)for(h=s[0].landmarks,u.drawKeypoints(c,h,s[0].annotations),1,59,60,16,17,18,19,20,21,22,23,24,11,108,p=0,d=Object.entries(n);p<d.length;p++)m=Object(v.a)(d[p],2),y=m[0],g=m[1],0===y.localeCompare("xcontrol")&&g&&(f=w(s,640),r.sendControlChange(16,f,1),console.log(y,f)),0===y.localeCompare("ycontrol")&&g&&(f=b(s,0,500),r.sendControlChange(11,f,1),console.log(y,f)),0===y.localeCompare("spread")&&g&&(f=E(s),r.sendControlChange(66,f,1),console.log(y,f)),0===y.localeCompare("rotation")&&g&&console.log(y),0===y.localeCompare("roll")&&g&&(f=L(s),r.sendControlChange(15,f,1),console.log(y,f)),0===y.localeCompare("proximity")&&g&&(f=x(s),r.sendControlChange(17,f,1),console.log(y,f)),0===y.localeCompare("pitch")&&g&&console.log(y),0===y.localeCompare("yaw")&&g&&(f=k(s),r.sendControlChange(16,f,1),console.log(y,f));a.end(),requestAnimationFrame(l);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}())();case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"showDetections",value:function(t){var e=this.canvasRef.current.getContext("2d");e.clearRect(0,0,e.canvas.width,e.canvas.height);var r="24px helvetica";e.font=r,e.textBaseline="top",t.forEach((function(t){var n=t.bbox[0],o=t.bbox[1],a=t.bbox[2],i=t.bbox[3];e.strokeStyle="#2fff00",e.lineWidth=1,e.strokeRect(n,o,a,i),e.fillStyle="#2fff00";var c=e.measureText(t.class).width,l=parseInt(r,10);e.fillRect(n,o,c+10,l+10),e.fillRect(n,o+i-l,c+15,l+10),e.fillStyle="#000000",e.fillText(t.class,n,o),e.fillText(t.score.toFixed(2),n,o+i-l)}))}},{key:"render",value:function(){return a.a.createElement("div",{id:"video-container"},a.a.createElement("video",{style:{display:"none",transform:"rotateY(180deg)"},ref:this.videoRef,width:640,height:500}),a.a.createElement(F,null,a.a.createElement("canvas",{ref:this.canvasRef,width:R,height:B})))}}]),r}(a.a.Component),q=r(60),Y=r(122),W=r(115),z=r(125),U=r(116),H=r(117),J=r(118),K=r(123),V=r(82),X=Object(G.a)((function(t){return{root:{flexGrow:1},appBar:{backgroundColor:"#673ab7"},title:{flexGrow:1}}}));function $(t){var e=t.onGestureToggle,r=t.gestures;X();return a.a.createElement(z.a,{component:"fieldset"},a.a.createElement(W.a,{component:"legend"},a.a.createElement(V.a,{variant:"h5"},"Guestures")),a.a.createElement(U.a,null,a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.xcontrol,onChange:e,name:"xcontrol"}),label:"X Control",labelPlacement:"start"}),a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.ycontrol,onChange:e,name:"ycontrol"}),label:"Y Control",labelPlacement:"start"}),a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.spread,onChange:e,name:"spread"}),label:"Spread",labelPlacement:"start"}),a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.rotation,onChange:e,name:"rotation"}),label:"Rotation",labelPlacement:"start"}),a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.roll,onChange:e,name:"roll"}),label:"Roll",labelPlacement:"start"}),a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.proximity,onChange:e,name:"proximity"}),label:"Proximity",labelPlacement:"start"}),a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.pitch,onChange:e,name:"pitch"}),label:"Pitch",labelPlacement:"start"}),a.a.createElement(H.a,{control:a.a.createElement(K.a,{checked:r.yaw,onChange:e,name:"yaw"}),label:"Yaw",labelPlacement:"start"})),a.a.createElement(J.a,null,"Use this control what midi signals are generated"))}var Q=r(124),Z=r(119),tt=function(t){var e=t.open;return a.a.createElement(Q.a,{open:e,style:{zIndex:20,backgroundColor:"#673ab7",color:"white"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:500}},a.a.createElement(Z.a,{color:"inherit",size:"m",style:{marginBottom:"4em"}}),a.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Initializing Conductor...")))},et=r(120),rt=r(121),nt=Object(G.a)((function(t){return{root:{flexGrow:1},appBar:{backgroundColor:"#673ab7"},title:{flexGrow:1}}})),ot=function(){var t=nt();return a.a.createElement("div",{className:t.root},a.a.createElement(et.a,{position:"static",className:t.appBar},a.a.createElement(rt.a,null,a.a.createElement(V.a,{variant:"h5",className:t.title},"Conductor"))))};function at(){at=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var s={};function h(){}function f(){}function p(){}var d={};c(d,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,o)&&(d=m);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var l=u(t[o],t,a);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(h).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var it=function(t){Object(p.a)(r,t);var e=Object(d.a)(r);function r(t){var n;return Object(s.a)(this,r),(n=e.call(this,t)).state={video:{width:640,heigh:500,element:void 0},tf:{backend:"webgl",model:void 0},initializing:!0,predictions:[],gestures:{xcontrol:!1,ycontrol:!1,spread:!1,rotation:!1,proximity:!1,roll:!1,pitch:!1,yaw:!1}},n.toggleMapping=n.toggleMapping.bind(Object(f.a)(n)),n.handleGestureToggle=n.handleGestureToggle.bind(Object(f.a)(n)),n.completeInit=n.completeInit.bind(Object(f.a)(n)),n.videoRef=a.a.createRef(),n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var t=Object(n.a)(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"toggleMapping",value:function(){var t=this.state.mapping;this.setState({mapping:!t}),console.log("Mapping is now: ",!t)}},{key:"handleGestureToggle",value:function(t){console.log("toggle event",t),this.setState({gestures:Object(u.a)(Object(u.a)({},this.state.gestures),{},Object(l.a)({},t.target.name,t.target.checked))})}},{key:"completeInit",value:function(){this.setState({initializing:!1})}},{key:"render",value:function(){var t={root:{flexGrow:1,backgroundColor:"#53446E",height:"100vh"},paper:{padding:32,height:"100%",textAlign:"center",position:"relative"},videoArea:{textAlign:"center"}},e=this.state,r=e.gestures,n=e.initializing;return a.a.createElement("div",null,a.a.createElement(tt,{open:n}),a.a.createElement(ot,null),a.a.createElement(Y.a,{container:!0,style:t.root},a.a.createElement(Y.a,{item:!0,xs:3,container:!0},a.a.createElement(q.a,{style:t.paper,elevation:0,variant:"outlined",square:!0,id:"control-area"},a.a.createElement($,{onGestureToggle:this.handleGestureToggle,gestures:r}))),a.a.createElement(Y.a,{container:!0,id:"videoframe-area",item:!0,xs:9,style:t.videoArea,justify:"center",alignItems:"center"},a.a.createElement(D,{gestures:r,onInitComplete:this.completeInit}))))}}]),r}(a.a.Component),ct=function(){return a.a.createElement(it,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=function(){return new Promise((function(t,e){y.a.enable((function(r){r?(console.log("WebMidi could not be enabled.",r),e(r)):(console.log("WebMidi enabled!"),t())}))}))};function ut(){ut=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var s={};function h(){}function f(){}function p(){}var d={};c(d,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,o)&&(d=m);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var l=u(t[o],t,a);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(h).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function st(){return(st=Object(n.a)(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt();case 2:c.a.render(a.a.createElement(ct,null),document.getElementById("root"));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){st.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.07c619fe.chunk.js.map